
# 我从零开发了一款开源地图工具，它甚至能完全离线使用

大家好，我是 **chenxuan520**。这篇文章，我想分享一下我独立开发开源项目 `RoadbookMaker` 的完整心路历程，以及它如何从一个个人痛点，成长为一个能帮助许多人自由规划旅行的工具。

**项目与在线体验地址：**

*   **GitHub地址**: [https://github.com/chenxuan520/roadbook](https://github.com/chenxuan520/roadbook)
*   **在线体验**: [http://map.chenxuanweb.top](http://map.chenxuanweb.top)

<p align="center">
  <img src="../static/favicon.png" alt="RoadbookMaker Logo" width="250" height="250">
</p>

### 一、缘起：一个旅行爱好者的“开发之痒”

作为一名热爱旅游的开发者，我习惯在出发前 meticulously (一丝不苟地) 规划好行程。但在使用市面上各种路书工具时，总会遇到一些让我抓狂的“小摩擦”：

1.  **繁琐的API Key**：想调用个地图服务，就要先去注册开发者、创建应用、申请那串长长的Key，还得时刻担心免费额度是否超标。
2.  **关键时刻掉链子**：精心规划的路线，一旦到了信号不佳的山区或者境外，就变成了一张无法加载的白板，瞬间失去参考价值。
3.  **挥之不去的隐私顾虑**：所有的行程数据，包括时间、地点、备注，都托管在第三方服务器上。这让我总感觉像是将自己的日记本交给了别人保管。

这些痛点反复出现，最终让我萌生了一个直接的想法：**与其不断忍受，不如自己创造一个。** 我想要的，是一款真正**纯粹、私密、可靠**的路线规划工具。

于是，`RoadbookMaker` 的第一个版本，就在无数个深夜的键盘敲击声中诞生了。

### 二、核心理念：把简单和自由还给用户

`RoadbookMaker` 的所有功能都围绕着几个核心原则构建，这也是它与众不同之处：

*   **彻底的零门槛**：无需任何地图厂商的API Key，没有强制的注册登录流程。打开浏览器就能立即开始规划。
*   **数据完全私有**：默认情况下，你的所有行程数据只保存在你自己的浏览器本地。对于希望数据能跨设备同步的用户，项目也支持通过 Docker 一键自托管到个人服务器，实现数据的完全私有化。
*   **体验闭环，一站式服务**：规划的最终目的是“出行”。因此，工具无缝集成了**导航**（高德、百度、Google）、**订票**（携程）、**酒店**（Google）和**攻略**（小红书），让你的规划与实际出行无缝衔接。

### 三、快速上手：三分钟，规划你的第一次“出逃”

让我们来看看用 `RoadbookMaker` 规划一次行程有多么简单直观。

1.  **标记你的足迹**
    在地图上，你可以通过顶部的搜索框寻找目的地，也可以直接按快捷键 `<kbd>A</kbd>` 激活添加模式，在地图上点击即可创建标记点。

2.  **连接成完整路线**
    有了几个标记点后，按 `<kbd>C</kbd>` 键，在弹窗中选择起点、终点和交通方式（如 🚗 或 🚶），一条清晰的路线便跃然图上。

3.  **为行程注入灵魂**
    点击任意标记点或路线，右侧会滑出详情面板，这里是丰富你行程的“宝库”：
    *   **时间规划**：为每个地点设置抵达、离开时间，或为路程设置耗时。
    *   **一键跳转**：需要导航？一键唤起手机里的高德/百度地图。想订票或酒店？直达携程和Google。想找找当地有什么好吃的？去小红书搜一搜！

4.  **分享你的杰作**
    规划完成后，通过“导出HTML”功能，你能得到一个**包含所有数据的独立网页文件**。把它发给你的旅伴，他们用任何浏览器打开，就能看到一份与你完全相同的、可交互的动态路书。这比发一堆截图可酷多了。

### 四、背后的一些技术坚持

为了实现上述体验，我在技术选型上做了一些看似“复古”但实际非常有效的决策。

*   **前端：拥抱原生 `Vanilla JS`**
    我没有选择任何主流框架，而是回归了原生JavaScript和强大的地图库`Leaflet.js`。这带来了极致的轻量化和性能，去除了所有构建步骤，让项目能以最纯粹的形式运行，这也是“完全离线可用”和“导出独立HTML”功能的技术基石。

*   **后端：Go语言带来的部署自由**
    `RoadbookMaker` 的后端服务是可选的，主要用于在线同步和API代理。选择 Go 语言，是因为它能被编译成**单个无依赖的二进制文件**，这让部署过程变得极其简单，无论是通过Docker还是一条`scp`命令，都能轻松搞定。

*   **关于“无需API Key”**
    这并非魔法，而是在后端实现了一个**API代理层**。由我的服务器统一去请求百度、天地图等服务，并处理好国内地图独有的坐标系转换问题，再将干净、统一的数据格式返回给前端。这既保证了终端用户的零配置体验，也保障了安全性。

### 五、写在最后

`RoadbookMaker` 是一个源于个人需求、成长于开源社区的项目。它不追求功能的繁复，而是专注于打磨“路线规划”这一核心体验，希望把它做得更简单、更可靠、更尊重用户。

从一行代码到一个被上千人Star的项目，这段旅程充满了挑战和乐趣。如果这个工具解决了你的某个痛点，或者你认同它背后的理念，欢迎在GitHub上给我一个 **Star** ⭐，你的每一个支持，都是我持续更新、不断完善它的最大动力。

谢谢你读到这里。
